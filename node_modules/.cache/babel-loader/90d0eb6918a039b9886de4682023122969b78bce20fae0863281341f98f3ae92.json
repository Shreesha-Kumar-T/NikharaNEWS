{"ast":null,"code":"import _regeneratorRuntime from\"E:/GitHub/NikharaNEWS/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"E:/GitHub/NikharaNEWS/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _classCallCheck from\"E:/GitHub/NikharaNEWS/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"E:/GitHub/NikharaNEWS/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"E:/GitHub/NikharaNEWS/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"E:/GitHub/NikharaNEWS/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React,{Component}from'react';import NewsItem from'./NewsItem';import Spinner from'./Spinner';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var _default=/*#__PURE__*/function(_Component){_inherits(_default,_Component);var _super=_createSuper(_default);function _default(){var _this;_classCallCheck(this,_default);_this=_super.call(this);_this.goToPrev=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var url,data,parsedData;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:url=\"https://newsapi.org/v2/top-headlines?country=\".concat(_this.props.country,\"&category=\").concat(_this.props.category,\"&apiKey=c9bf42d72c0f4ee8815803c65dd02d22&page=\").concat(_this.state.page-1,\"&pagesize=\").concat(_this.props.pageSize);_this.setState({loading:true});_context.next=4;return fetch(url);case 4:data=_context.sent;_context.next=7;return data.json();case 7:parsedData=_context.sent;_this.setState({page:_this.state.page-1,articles:parsedData.articles,loading:false});case 9:case\"end\":return _context.stop();}},_callee);}));_this.goToNext=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){var url,data,parsedData;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:url=\"https://newsapi.org/v2/top-headlines?country=\".concat(_this.props.country,\"&category=\").concat(_this.props.category,\"&apiKey=c9bf42d72c0f4ee8815803c65dd02d22&page=\").concat(_this.state.page+1,\"&pagesize=\").concat(_this.props.pageSize);_this.setState({loading:true});_context2.next=4;return fetch(url);case 4:data=_context2.sent;_context2.next=7;return data.json();case 7:parsedData=_context2.sent;_this.setState({page:_this.state.page+1,articles:parsedData.articles,loading:false});case 9:case\"end\":return _context2.stop();}},_callee2);}));_this.state={articles:[],loading:false,page:1};return _this;}_createClass(_default,[{key:\"componentDidMount\",value:function(){var _componentDidMount=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(){var url,data,parsedData;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:url=\"https://newsapi.org/v2/top-headlines?country=\".concat(this.props.country,\"&category=\").concat(this.props.category,\"&apiKey=c9bf42d72c0f4ee8815803c65dd02d22&page=1&pagesize=\").concat(this.props.pageSize);this.setState({loading:true});_context3.next=4;return fetch(url);case 4:data=_context3.sent;_context3.next=7;return data.json();case 7:parsedData=_context3.sent;this.setState({articles:parsedData.articles,totalResults:parsedData.totalResults,loading:false});case 9:case\"end\":return _context3.stop();}},_callee3,this);}));function componentDidMount(){return _componentDidMount.apply(this,arguments);}return componentDidMount;}()},{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(\"div\",{className:\"container my3\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-center\",children:\"Top HeadLines\"}),this.state.loading&&/*#__PURE__*/_jsx(Spinner,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[!this.state.loading&&this.state.articles.map(function(element){return/*#__PURE__*/_jsx(\"div\",{className:\"col-md-4 my-3\",children:/*#__PURE__*/_jsx(NewsItem,{title:element.title===undefined||element.title===null?\"\":element.title,description:element.description===undefined||element.description===null?\"\":element.description,imgurl:element.urlToImage===undefined||element.urlToImage===null?\"\":element.urlToImage,newsurl:element.url===undefined||element.url===null?\"https://google.com\":element.url})});}),/*#__PURE__*/_jsxs(\"div\",{className:\"container d-flex justify-content-between\",children:[/*#__PURE__*/_jsx(\"button\",{disabled:this.state.page<=1,type:\"button\",class:\"btn btn-dark\",onClick:this.goToPrev,children:\"\\u2190 Prev Page\"}),/*#__PURE__*/_jsx(\"button\",{disabled:this.state.page>Math.ceil(this.state.totalResults/9),type:\"button\",class:\"btn btn-dark\",onClick:this.goToNext,children:\"Next Page \\u2192\"})]})]})]});}}]);return _default;}(Component);_default.defaultProps={country:\"in\",pageSize:9,category:\"general\"};export{_default as default};","map":{"version":3,"names":["React","Component","NewsItem","Spinner","goToPrev","url","props","country","category","state","page","pageSize","setState","loading","fetch","data","json","parsedData","articles","goToNext","totalResults","map","element","title","undefined","description","urlToImage","Math","ceil","defaultProps"],"sources":["E:/GitHub/NikharaNEWS/src/Components/News.js"],"sourcesContent":["import React, { Component } from 'react'\r\nimport NewsItem from './NewsItem'\r\nimport Spinner from './Spinner';\r\nimport PropTypes from 'prop-types';\r\nexport default class extends Component {\r\n  static defaultProps = {\r\n    country: \"in\",\r\n    pageSize: 9,\r\n    category:\"general\"\r\n  }\r\n\r\n  static propTypes={\r\n    country:PropTypes.string,\r\n    pageSize:PropTypes.number,\r\n    category:PropTypes.string\r\n  }\r\n\r\n  goToPrev = async () => {\r\n    let url = `https://newsapi.org/v2/top-headlines?country=${this.props.country}&category=${this.props.category}&apiKey=c9bf42d72c0f4ee8815803c65dd02d22&page=${this.state.page - 1}&pagesize=${this.props.pageSize}`;\r\n    this.setState({ loading: true });\r\n    let data = await fetch(url);\r\n    let parsedData = await data.json();\r\n    this.setState({ page: this.state.page - 1, articles: parsedData.articles, loading: false });\r\n  }\r\n  goToNext = async () => {\r\n    let url = `https://newsapi.org/v2/top-headlines?country=${this.props.country}&category=${this.props.category}&apiKey=c9bf42d72c0f4ee8815803c65dd02d22&page=${this.state.page + 1}&pagesize=${this.props.pageSize}`;\r\n    this.setState({ loading: true });\r\n    let data = await fetch(url);\r\n    let parsedData = await data.json();\r\n    this.setState({ page: this.state.page + 1, articles: parsedData.articles, loading: false });\r\n  }\r\n\r\n\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      articles: [],\r\n      loading: false,\r\n      page: 1\r\n    }\r\n  }\r\n  async componentDidMount() {\r\n    let url = `https://newsapi.org/v2/top-headlines?country=${this.props.country}&category=${this.props.category}&apiKey=c9bf42d72c0f4ee8815803c65dd02d22&page=1&pagesize=${this.props.pageSize}`;\r\n    this.setState({ loading: true });\r\n    let data = await fetch(url);\r\n    let parsedData = await data.json();\r\n    this.setState({ articles: parsedData.articles, totalResults: parsedData.totalResults, loading: false });\r\n  }\r\n  render() {\r\n    return (\r\n      <div className=\"container my3\">\r\n        <h1 className=\"text-center\">Top HeadLines</h1>\r\n        {this.state.loading && <Spinner />}\r\n        <div className=\"row\">\r\n          {!this.state.loading && this.state.articles.map((element) => {\r\n            return <div className=\"col-md-4 my-3\">\r\n              <NewsItem title={element.title === undefined || element.title === null ? \"\" : element.title} description={element.description === undefined || element.description === null ? \"\" : element.description} imgurl={element.urlToImage === undefined || element.urlToImage === null ? \"\" : element.urlToImage} newsurl={element.url === undefined || element.url === null ? \"https://google.com\" : element.url} />\r\n            </div>\r\n          })}\r\n          <div className=\"container d-flex justify-content-between\">\r\n            <button disabled={this.state.page <= 1} type=\"button\" class=\"btn btn-dark\" onClick={this.goToPrev}>&larr; Prev Page</button>\r\n            <button disabled={this.state.page > (Math.ceil(this.state.totalResults / 9))} type=\"button\" class=\"btn btn-dark\" onClick={this.goToNext}>Next Page &rarr;</button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}